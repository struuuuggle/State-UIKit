# State
状態をクラスとして表現する

## どんなものか
状態をクラスとして表現し、状態の変化をクラスの切り替えによって表現する。

## 登場人物
### State(状態)
状態ごとに異なる振る舞いをするインターフェースを定める
Stateは状態に依存した振る舞いをするメソッドの集まり
> サンプルプログラムではStateプロトコルがState役

### ConcreteState(具体的な状態)
具体的な個々の状態を定める
> サンプルプログラムではNightStateクラスとDayStateクラスがConcreteState役

### Context(状況)
- 現在の状態を表すConcreteStateを保持する(SafeFrameクラス)
- Stateの利用者が必要なインターフェースを定める(Contextプロトコル)
> サンプルプログラムではContextプロトコルとSafeFrameクラスがContext役

## どんなときに使うか
管理する状態が多いとき(多くなくても使えば見通しは良くなる)。
ContextとStateをまとめてコーディングすることはもちろん可能だが、状態が増えれば増えるほど条件分岐は多くなり、プログラムは複雑になってしまう。

## どんなメリットが有るか
Stateを切り出せば、当然作成するファイルは増える。
ファイルが増えると一見管理が面倒に感じるが、それを上回るメリットは
- 自己矛盾が怒らない
- 新しい状態を追加するのが簡単
という点。

# References
- [増補改訂版 Java言語で学ぶデザインパターン入門](https://www.hyuki.com/dp/)
